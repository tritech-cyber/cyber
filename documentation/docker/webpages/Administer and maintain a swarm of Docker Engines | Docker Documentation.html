<!-- Page generated 2017-12-01 19:30:37 +0000 -->
<!-- relative link basehrefs -->
<!-- Logic for feedback CC'ing -->
<!-- Logic for 'edit this button' -->
<!-- End of logic for 'edit this button' -->
<!DOCTYPE html>
<html lang="en"><head>
	<!-- base href="https://docs.docker.com/engine/swarm/" -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	
	<script type="text/javascript" async="" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/linkid.js"></script><script type="text/javascript" async="" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/analytics.js"></script><script type="text/javascript" async="" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/analytics.js"></script><script type="text/javascript" async="" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/gtm.js"></script><script id="pd-rating-js" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/rating.js"></script><script type="text/javascript" async="" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/analytics_002.js"></script><script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://docs.docker.com/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://docs.docker.com/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="/favicons/docs@2x.ico">
	<!-- metadata -->
	<meta property="og:type" content="website">
	<meta property="og:updated_time" itemprop="dateUpdated" content="2017-12-01T19:30:37+00:00">
	<meta property="og:image" itemprop="image primaryImageOfPage" content="/images/docs@2x.png">
	<meta name="twitter:card" content="summary">
	<meta name="twitter:domain" content="docs.docker.com">
	<meta name="twitter:site" content="@docker_docs">
	<meta name="twitter:url" content="https://twitter.com/docker_docs">
	<meta name="twitter:title" itemprop="title name" content="Administer and maintain a swarm of Docker Engines">
	<meta name="twitter:description" property="og:description" itemprop="description" content="When you run a swarm of Docker Engines, manager nodes are the key components for managing the swarm and storing the swarm state. It is important to understand some key...">
	<meta name="twitter:image:src" content="/images/docs@2x.png">
	<meta name="twitter:image:alt" content="Docker Documentation">
	<meta property="article:published_time" itemprop="datePublished" content="2017-12-01T19:30:37+00:00">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="docker, container, swarm, manager, raft">
	<link rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/font-awesome.css">
	<link rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/bootstrap.css">
	<link id="pygments" rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/css.css" rel="stylesheet">
	<!-- temp css will be removed -->
	<link rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/temp.css">
	<!-- Begin Jekyll SEO tag v2.2.2 -->
<title>Administer and maintain a swarm of Docker Engines | Docker Documentation</title>
<meta property="og:title" content="Administer and maintain a swarm of Docker Engines">
<meta property="og:locale" content="en_US">
<meta name="description" content="Manager administration guide">
<meta property="og:description" content="Manager administration guide">
<link rel="canonical" href="https://docs.docker.com/engine/swarm/admin_guide/">
<meta property="og:url" content="https://docs.docker.com/engine/swarm/admin_guide/">
<meta property="og:site_name" content="Docker Documentation">
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Administer and maintain a swarm of Docker Engines","description":"Manager administration guide","url":"https://docs.docker.com/engine/swarm/admin_guide/"}</script>
<!-- End Jekyll SEO tag -->

	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v17.09';
	</script>
<script charset="utf-8" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/rate.js"></script><script charset="utf-8" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/rating-results.js"></script><style type="text/css" id="pd_popup_holder_style_8453675">#pd_popup_holder_8453675 { position:absolute; display:none; width:175px; height:auto; top:0px; left:0px; z-index:10000; border:solid 1px #CCC; background-color:white; padding:0px 15px;font-family:Arial,Sans;box-shadow: -10px 10px 20px rgba(0, 0, 0, .5);-webkit-box-shadow: 0px 0px 6px rgba(0, 0, 0, .25);-moz-box-shadow: 0px 0px 6px rgba(0, 0, 0, .25); }</style></head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="fan"></div>
    <div class="container-fluid">
<!--         <div class="ctrl-left">
        <a href="javascript:void(0)" id="menu-toggle-left"><i class="fa fa-outdent" aria-hidden="true"></i></a>
      </div> -->
        <div class="navbar-header">
            <a href="https://docs.docker.com/"><img class="logo" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: visible;">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="/search/" style="visibility: visible;">
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="Search the docs" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;" type="search">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">Search</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs">
            

  
  
<li id="guides" class="active"><a href="https://docs.docker.com/">Guides</a></li>

  
  
<li id="manuals"><a href="https://docs.docker.com/manuals/">Product manuals</a></li>

  
  
<li id="glossary"><a href="https://docs.docker.com/glossary/">Glossary</a></li>

  
  
<li id="reference"><a href="https://docs.docker.com/reference/">Reference</a></li>

  
  
<li id="samples"><a href="https://docs.docker.com/samples/">Samples</a></li>


        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: visible;">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v17.09 (current)              <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://docs.docker.com/v17.06/">Docker v17.06</a></li><li><a href="https://docs.docker.com/v17.03/">Docker v17.03</a></li><li><a href="https://docs.docker.com/v1.13/">Docker v1.13</a></li><li><a href="https://docs.docker.com/v1.12/">Docker v1.12</a></li><li><a href="https://docs.docker.com/v1.11/">Docker v1.11</a></li><li><a href="https://docs.docker.com/v1.10/">Docker v1.10</a></li><li><a href="https://docs.docker.com/v1.9/">Docker v1.9</a></li><li><a href="https://docs.docker.com/v1.8/">Docker v1.8</a></li><li><a href="https://docs.docker.com/v1.7/">Docker v1.7</a></li><li><a href="https://docs.docker.com/v1.6/">Docker v1.6</a></li><li><a href="https://docs.docker.com/v1.5/">Docker v1.5</a></li><li><a href="https://docs.docker.com/v1.4/">Docker v1.4</a></li>
  </ul>
</div>

    </div>
</div>
        </div>
    </div>
</nav>
	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1 id="title">Administer and maintain a swarm of Docker Engines</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">Estimated reading time: </span>
  
  
    17 minutes
  
</span>

							
							
							<p>When you run a swarm of Docker Engines, <strong>manager nodes</strong> are the key components
for managing the swarm and storing the swarm state. It is important to
understand some key features of manager nodes in order to properly deploy and
maintain the swarm.</p>

<p>Refer to <a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/nodes/">How nodes work</a>
for a brief overview of Docker Swarm mode and the difference between manager and
worker nodes.</p>

<h2 id="operate-manager-nodes-in-a-swarm">Operate manager nodes in a swarm</h2>

<p>Swarm manager nodes use the <a href="https://docs.docker.com/engine/swarm/raft/">Raft Consensus Algorithm</a> to manage the
swarm state. You only need to understand some general concepts of Raft in
order to manage a swarm.</p>

<p>There is no limit on the number of manager nodes. The decision about how many
manager nodes to implement is a trade-off between performance and
fault-tolerance. Adding manager nodes to a swarm makes the swarm more
fault-tolerant. However, additional manager nodes reduce write performance
because more nodes must acknowledge proposals to update the swarm state.
This means more network round-trip traffic.</p>

<p>Raft requires a majority of managers, also called the quorum, to agree on
proposed updates to the swarm, such as node additions or removals. Membership
operations are subject to the same constraints as state replication.</p>

<h3 id="maintain-the-quorum-of-managers">Maintain the quorum of managers</h3>

<p>If the swarm loses the quorum of managers, the swarm cannot perform management
tasks. If your swarm has multiple managers, always have more than two. In order
to maintain quorum, a majority of managers must be available. An odd number of
managers is recommended, because the next even number does not make the quorum
easier to keep. For instance, whether you have 3 or 4 managers, you can still
only lose 1 manager and maintain the quorum. If you have 5 or 6 managers, you
can still only lose two.</p>

<p>Even if a swarm loses the quorum of managers, swarm tasks on existing worker
nodes continue to run. However, swarm nodes cannot be added, updated, or
removed, and new or existing tasks cannot be started, stopped, moved, or
updated.</p>

<p>See <a href="https://docs.docker.com/engine/swarm/admin_guide/#recovering-from-losing-the-quorum">Recovering from losing the quorum</a> for
troubleshooting steps if you do lose the quorum of managers.</p>

<h2 id="configure-the-manager-to-advertise-on-a-static-ip-address">Configure the manager to advertise on a static IP address</h2>

<p>When initiating a swarm, you have to specify the <code class="highlighter-rouge">--advertise-addr</code> flag to
advertise your address to other manager nodes in the swarm. For more
information, see <a href="https://docs.docker.com/engine/swarm/swarm-mode/#configure-the-advertise-address">Run Docker Engine in swarm mode</a>. Because manager nodes are
meant to be a stable component of the infrastructure, you should use a <em>fixed
IP address</em> for the advertise address to prevent the swarm from becoming
unstable on machine reboot.</p>

<p>If the whole swarm restarts and every manager node subsequently gets a new IP
address, there is no way for any node to contact an existing manager. Therefore
the swarm is hung while nodes try to contact one another at their old IP addresses.</p>

<p>Dynamic IP addresses are OK for worker nodes.</p>

<h2 id="add-manager-nodes-for-fault-tolerance">Add manager nodes for fault tolerance</h2>

<p>You should maintain an odd number of managers in the swarm to support manager
node failures. Having an odd number of managers ensures that during a network
partition, there is a higher chance that the quorum remains available to process
requests if the network is partitioned into two sets. Keeping the quorum is not
guaranteed if you encounter more than two network partitions.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Swarm Size</th>
      <th style="text-align: center">Majority</th>
      <th style="text-align: center">Fault Tolerance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>3</strong></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center"><strong>1</strong></td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>5</strong></td>
      <td style="text-align: center">3</td>
      <td style="text-align: center"><strong>2</strong></td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">2</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>7</strong></td>
      <td style="text-align: center">4</td>
      <td style="text-align: center"><strong>3</strong></td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">5</td>
      <td style="text-align: center">3</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>9</strong></td>
      <td style="text-align: center">5</td>
      <td style="text-align: center"><strong>4</strong></td>
    </tr>
  </tbody>
</table>

<p>For example, in a swarm with <em>5 nodes</em>, if you lose <em>3 nodes</em>, you don’t have a
quorum. Therefore you can’t add or remove nodes until you recover one of the
unavailable manager nodes or recover the swarm with disaster recovery
commands. See <a href="https://docs.docker.com/engine/swarm/admin_guide/#recover-from-disaster">Recover from disaster</a>.</p>

<p>While it is possible to scale a swarm down to a single manager node, it is
impossible to demote the last manager node. This ensures you maintain access to
the swarm and that the swarm can still process requests. Scaling down to a
single manager is an unsafe operation and is not recommended. If
the last node leaves the swarm unexpectedly during the demote operation, the
swarm will become unavailable until you reboot the node or restart with
<code class="highlighter-rouge">--force-new-cluster</code>.</p>

<p>You manage swarm membership with the <code class="highlighter-rouge">docker swarm</code> and <code class="highlighter-rouge">docker node</code>
subsystems. Refer to <a href="https://docs.docker.com/engine/swarm/join-nodes/">Add nodes to a swarm</a> for more information
on how to add worker nodes and promote a worker node to be a manager.</p>

<h3 id="distribute-manager-nodes">Distribute manager nodes</h3>

<p>In addition to maintaining an odd number of manager nodes, pay attention to
datacenter topology when placing managers. For optimal fault-tolerance, distribute
manager nodes across a minimum of 3 availability-zones to support failures of an
entire set of machines or common maintenance scenarios. If you suffer a failure
in any of those zones, the swarm should maintain the quorum of manager nodes
available to process requests and rebalance workloads.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Swarm manager nodes</th>
      <th style="text-align: center">Repartition (on 3 Availability zones)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">1-1-1</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">2-2-1</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">3-2-2</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">3-3-3</td>
    </tr>
  </tbody>
</table>

<h3 id="run-manager-only-nodes">Run manager-only nodes</h3>

<p>By default manager nodes also act as a worker nodes. This means the scheduler
can assign tasks to a manager node. For small and non-critical swarms
assigning tasks to managers is relatively low-risk as long as you schedule
services using <strong>resource constraints</strong> for <em>cpu</em> and <em>memory</em>.</p>

<p>However, because manager nodes use the Raft consensus algorithm to replicate data
in a consistent way, they are sensitive to resource starvation. You should
isolate managers in your swarm from processes that might block swarm
operations like swarm heartbeat or leader elections.</p>

<p>To avoid interference with manager node operation, you can drain manager nodes
to make them unavailable as worker nodes:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>docker node update --availability drain &lt;NODE&gt;
</code></pre>
</div>

<p>When you drain a node, the scheduler reassigns any tasks running on the node to
other available worker nodes in the swarm. It also prevents the scheduler from
assigning tasks to the node.</p>

<h2 id="add-worker-nodes-for-load-balancing">Add worker nodes for load balancing</h2>

<p><a href="https://docs.docker.com/engine/swarm/join-nodes/">Add nodes to the swarm</a> to balance your swarm’s
load. Replicated service tasks will be distributed across the swarm as evenly as
possible over time, as long as the worker nodes are matched to the requirements
of the services. When limiting a service to run on only specific types of nodes,
such as nodes with a specific number of CPUs or amount of memory, remember that
worker nodes that do not meet these requirements will not be able to run these
tasks.</p>

<h2 id="monitor-swarm-health">Monitor swarm health</h2>

<p>You can monitor the health of manager nodes by querying the docker <code class="highlighter-rouge">nodes</code> API
in JSON format through the <code class="highlighter-rouge">/nodes</code> HTTP endpoint. Refer to the
<a href="https://docs.docker.com/engine/api/v1.25/#tag/Node">nodes API documentation</a>
for more information.</p>

<p>From the command line, run <code class="highlighter-rouge">docker node inspect &lt;id-node&gt;</code> to query the nodes.
For instance, to query the reachability of the node as a manager:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>
docker node inspect manager1 --format <span class="s2">"{{ .ManagerStatus.Reachability }}"</span>
reachable

</code></pre>
</div>

<p>To query the status of the node as a worker that accept tasks:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>
docker node inspect manager1 --format <span class="s2">"{{ .Status.State }}"</span>
ready

</code></pre>
</div>

<p>From those commands, we can see that <code class="highlighter-rouge">manager1</code> is both at the status
<code class="highlighter-rouge">reachable</code> as a manager and <code class="highlighter-rouge">ready</code> as a worker.</p>

<p>An <code class="highlighter-rouge">unreachable</code> health status means that this particular manager node is unreachable
from other manager nodes. In this case you need to take action to restore the unreachable
manager:</p>

<ul>
  <li>Restart the daemon and see if the manager comes back as reachable.</li>
  <li>Reboot the machine.</li>
  <li>If neither restarting or rebooting work, you should add another 
manager node or promote a worker to be a manager node. You also need to 
cleanly remove the failed node entry from the manager set with <code class="highlighter-rouge">docker node demote &lt;NODE&gt;</code> and <code class="highlighter-rouge">docker node rm &lt;id-node&gt;</code>.</li>
</ul>

<p>Alternatively you can also get an overview of the swarm health from a manager
node with <code class="highlighter-rouge">docker node ls</code>:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>
docker node ls
ID                           HOSTNAME  MEMBERSHIP  STATUS  AVAILABILITY  MANAGER STATUS
1mhtdwhvsgr3c26xxbnzdc3yp    node05    Accepted    Ready   Active
516pacagkqp2xc3fk9t1dhjor    node02    Accepted    Ready   Active        Reachable
9ifojw8of78kkusuc4a6c23fx <span class="k">*</span>  node01    Accepted    Ready   Active        Leader
ax11wdpwrrb6db3mfjydscgk7    node04    Accepted    Ready   Active
bb1nrq2cswhtbg4mrsqnlx1ck    node03    Accepted    Ready   Active        Reachable
di9wxgz8dtuh9d2hn089ecqkf    node06    Accepted    Ready   Active
</code></pre>
</div>

<h2 id="troubleshoot-a-manager-node">Troubleshoot a manager node</h2>

<p>You should never restart a manager node by copying the <code class="highlighter-rouge">raft</code>
 directory from another node. The data directory is unique to a node ID.
 A node can only use a node ID once to join the swarm. The node ID space
 should be globally unique.</p>

<p>To cleanly re-join a manager node to a cluster:</p>

<ol>
  <li>To demote the node to a worker, run <code class="highlighter-rouge">docker node demote &lt;NODE&gt;</code>.</li>
  <li>To remove the node from the swarm, run <code class="highlighter-rouge">docker node rm &lt;NODE&gt;</code>.</li>
  <li>Re-join the node to the swarm with a fresh state using <code class="highlighter-rouge">docker swarm join</code>.</li>
</ol>

<p>For more information on joining a manager node to a swarm, refer to
<a href="https://docs.docker.com/engine/swarm/join-nodes/">Join nodes to a swarm</a>.</p>

<h2 id="forcibly-remove-a-node">Forcibly remove a node</h2>

<p>In most cases, you should shut down a node before removing it from a swarm with
the <code class="highlighter-rouge">docker node rm</code> command. If a node becomes unreachable, unresponsive, or
compromised you can forcefully remove the node without shutting it down by
passing the <code class="highlighter-rouge">--force</code> flag. For instance, if <code class="highlighter-rouge">node9</code> becomes compromised:</p>

<pre><code class="language-none">$ docker node rm node9

Error response from daemon: rpc error: code = 9 desc = node node9 is not down and can't be removed

$ docker node rm --force node9

Node node9 removed from swarm
</code></pre>

<p>Before you forcefully remove a manager node, you must first demote it to the
worker role. Make sure that you always have an odd number of manager nodes if
you demote or remove a manager.</p>

<h2 id="back-up-the-swarm">Back up the swarm</h2>

<p>Docker manager nodes store the swarm state and manager logs in the
<code class="highlighter-rouge">/var/lib/docker/swarm/</code> directory. In 1.13 and higher, this data includes the
keys used to encrypt the Raft logs. Without these keys, you will not be able
to restore the swarm.</p>

<p>You can back up the swarm using any manager. Use the following procedure.</p>

<ol>
  <li>
    <p>If the swarm has auto-lock enabled, you will need the unlock key in order
to restore the swarm from backup. Retrieve the unlock key if necessary and
store it in a safe location. If you are unsure, read
<a href="https://docs.docker.com/engine/swarm/swarm_manager_locking/">Lock your swarm to protect its encryption key</a>.</p>
  </li>
  <li>
    <p>Stop Docker on the manager before backing up the data, so that no data is
being changed during the backup. It is possible to take a backup while the
manager is running (a “hot” backup), but this is not recommended and your
results will be less predictable when restoring. While the manager is down,
other nodes will continue generating swarm data that will not be part of
this backup.</p>

    <blockquote>
      <p><strong>Note</strong>: Be sure to maintain the quorum of swarm managers. During the
time that a manager is shut down, your swarm is more vulnerable to
losing the quorum if further nodes are lost. The number of managers you
run is a trade-off. If you regularly take down managers to do backups,
consider running a 5-manager swarm, so that you can lose an additional
manager while the backup is running, without disrupting your services.</p>
    </blockquote>
  </li>
  <li>
    <p>Back up the entire <code class="highlighter-rouge">/var/lib/docker/swarm</code> directory.</p>
  </li>
  <li>
    <p>Restart the manager.</p>
  </li>
</ol>

<p>To restore, see <a href="https://docs.docker.com/engine/swarm/admin_guide/#restore-from-a-backup">Restore from a backup</a>.</p>

<h2 id="recover-from-disaster">Recover from disaster</h2>

<h3 id="restore-from-a-backup">Restore from a backup</h3>

<p>After backing up the swarm as described in
<a href="https://docs.docker.com/engine/swarm/admin_guide/#back-up-the-swarm">Back up the swarm</a>, use the following procedure to
restore the data to a new swarm.</p>

<ol>
  <li>
    <p>Shut down Docker on the target host machine where the swarm will be restored.</p>
  </li>
  <li>
    <p>Remove the contents of the <code class="highlighter-rouge">/var/lib/docker/swarm</code> directory on the new
swarm.</p>
  </li>
  <li>
    <p>Restore the <code class="highlighter-rouge">/var/lib/docker/swarm</code> directory with the contents of the
backup.</p>

    <blockquote>
      <p><strong>Note</strong>: The new node will use the same encryption key for on-disk
storage as the old one. It is not possible to change the on-disk storage
encryption keys at this time.</p>

      <p>In the case of a swarm with auto-lock enabled, the unlock key is also the
same as on the old swarm, and the unlock key will be needed to
restore.</p>
    </blockquote>
  </li>
  <li>
    <p>Start Docker on the new node. Unlock the swarm if necessary. Re-initialize
the swarm using the following command, so that this node does not attempt
to connect to nodes that were part of the old swarm, and presumably no
longer exist.</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>docker swarm init --force-new-cluster
</code></pre>
    </div>
  </li>
  <li>
    <p>Verify that the state of the swarm is as expected. This may include
application-specific tests or simply checking the output of
<code class="highlighter-rouge">docker service ls</code> to be sure that all expected services are present.</p>
  </li>
  <li>
    <p>If you use auto-lock,
<a href="https://docs.docker.com/engine/swarm/swarm_manager_locking/#rotate-the-unlock-key">rotate the unlock key</a>.</p>
  </li>
  <li>
    <p>Add manager and worker nodes to bring your new swarm up to operating
capacity.</p>
  </li>
  <li>
    <p>Reinstate your previous backup regimen on the new swarm.</p>
  </li>
</ol>

<h3 id="recover-from-losing-the-quorum">Recover from losing the quorum</h3>

<p>Swarm is resilient to failures and the swarm can recover from any number
of temporary node failures (machine reboots or crash with restart) or other
transient errors. However, a swarm cannot automatically recover if it loses a
quorum. Tasks on existing worker nodes will continue to run, but administrative
tasks are not possible, including scaling or updating services and joining or
removing nodes from the swarm. The best way to recover is to bring the missing
manager nodes back online. If that is not possible, continue reading for some
options for recovering your swarm.</p>

<p>In a swarm of <code class="highlighter-rouge">N</code> managers, a quorum (a majority) of manager nodes must always
be available. For example, in a swarm with 5 managers, a minimum of 3 must be
operational and in communication with each other. In other words, the swarm can
tolerate up to <code class="highlighter-rouge">(N-1)/2</code> permanent failures beyond which requests involving
swarm management cannot be processed. These types of failures include data
corruption or hardware failures.</p>

<p>If you lose the quorum of managers, you cannot administer the swarm. If you have
lost the quorum and you attempt to perform any management operation on the swarm,
an error occurs:</p>

<pre><code class="language-none">Error response from daemon: rpc error: code = 4 desc = context deadline exceeded
</code></pre>

<p>The best way to recover from losing the quorum is to bring the failed nodes back
online. If you can’t do that, the only way to recover from this state is to use
the <code class="highlighter-rouge">--force-new-cluster</code> action from a manager node. This removes all managers
except the manager the command was run from. The quorum is achieved because
there is now only one manager. Promote nodes to be managers until you have the
desired number of managers.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="c"># From the node to recover</span>
docker swarm init --force-new-cluster --advertise-addr node01:2377
</code></pre>
</div>

<p>When you run the <code class="highlighter-rouge">docker swarm init</code> command with the <code class="highlighter-rouge">--force-new-cluster</code>
flag, the Docker Engine where you run the command becomes the manager node of a
single-node swarm which is capable of managing and running services. The manager
has all the previous information about services and tasks, worker nodes are
still part of the swarm, and services are still running. You will need to add or
re-add  manager nodes to achieve your previous task distribution and ensure that
you have enough managers to maintain high availability and prevent losing the
quorum.</p>

<h2 id="force-the-swarm-to-rebalance">Force the swarm to rebalance</h2>

<p>Generally, you do not need to force the swarm to rebalance its tasks. When you
add a new node to a swarm, or a node reconnects to the swarm after a
period of unavailability, the swarm does not automatically give a workload to
the idle node. This is a design decision. If the swarm periodically shifted tasks
to different nodes for the sake of balance, the clients using those tasks would
be disrupted. The goal is to avoid disrupting running services for the sake of
balance across the swarm. When new tasks start, or when a node with running
tasks becomes unavailable, those tasks are given to less busy nodes. The goal
is eventual balance, with minimal disruption to the end user.</p>

<p>In Docker 1.13 and higher, you can use the <code class="highlighter-rouge">--force</code> or <code class="highlighter-rouge">-f</code> flag with the
<code class="highlighter-rouge">docker service update</code> command to force the service to redistribute its tasks
across the available worker nodes. This will cause the service tasks to restart.
Client applications may be disrupted. If you have configured it, your service
will use a <a href="https://docs.docker.com/engine/swarm/swarm-tutorial/#rolling-update">rolling update</a>.</p>

<p>If you use an earlier version and you want to achieve an even balance of load
across workers and don’t mind disrupting running tasks, you can force your swarm
to re-balance by temporarily scaling the service upward. Use
<code class="highlighter-rouge">docker service inspect --pretty &lt;servicename&gt;</code> to see the configured scale
of a service. When you use <code class="highlighter-rouge">docker service scale</code>, the nodes with the lowest
number of tasks are targeted to receive the new workloads. There may be multiple
under-loaded nodes in your swarm. You may need to scale the service up by modest
increments a few times to achieve the balance you want across all the nodes.</p>

<p>When the load is balanced to your satisfaction, you can scale the service back
down to the original scale. You can use <code class="highlighter-rouge">docker service ps</code> to assess the current
balance of your service across nodes.</p>

<p>See also
<a href="https://docs.docker.com/engine/reference/commandline/service_scale/"><code class="highlighter-rouge">docker service scale</code></a> and
<a href="https://docs.docker.com/engine/reference/commandline/service_ps/"><code class="highlighter-rouge">docker service ps</code></a>.</p>

							
							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://docs.docker.com/glossary/?term=docker">docker</a>, <a href="https://docs.docker.com/glossary/?term=container">container</a>, <a href="https://docs.docker.com/glossary/?term=swarm">swarm</a>, <a href="https://docs.docker.com/glossary/?term=manager">manager</a>, <a href="https://docs.docker.com/glossary/?term=raft">raft</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/engine/swarm/admin_guide/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color: rgb(185, 194, 204); text-align: center; margin-top: 150px; visibility: visible;">
								<div id="pd_rating_holder_8453675" style="display: inline-block;"><div class="rating-msg" id="PDRTJS_8453675_msg" style="text-align: center; font:normal normal 12px/20px verdana; color: #333333;">Rate this page:</div><p style="padding: 0px; margin: 0px; clear: both;"></p><div class="rating-icons" id="pd_rate_8453675" style="float:left;"><div class="rating-nero-icon" onmouseout="PDRTJS_8453675.rebuild();" onclick="PDRTJS_8453675.rate(1);" onmouseover="PDRTJS_8453675.hover(1);" id="PDRTJS_8453675_nero_1" style="background-size: 32px 32px !important; cursor: pointer; width: 16px; height: 16px;  line-height: 16px; background: url(https://polldaddy.com/images/ratings/nero-hand-sml.png) bottom left; float: left; padding: 0px; margin: 0px; margin: 0px;">&nbsp;</div><div class="rating-nero-value" id="PDRTJS_8453675_msg_1" style="text-align: center; font:normal normal 12px/20px verdana; color: #333333; float:left; padding: 0px 4px;">31</div><div class="rating-nero-icon" onmouseout="PDRTJS_8453675.rebuild();" onclick="PDRTJS_8453675.rate(2);" onmouseover="PDRTJS_8453675.hover(2);" id="PDRTJS_8453675_nero_2" style="background-size: 32px 32px !important; cursor: pointer; width: 16px; height: 16px;  line-height: 16px; background: url(https://polldaddy.com/images/ratings/nero-hand-sml.png) bottom right; float: left; padding: 0px; margin: 0px; margin: 0px;">&nbsp;</div><div class="rating-nero-value" id="PDRTJS_8453675_msg_2" style="text-align: center; font:normal normal 12px/20px verdana; color: #333333; float:left; padding: 0px 4px;">5</div></div><span style="float:left;">&nbsp;</span><div id="rating_info_8453675" style="display:none;float:left;background:url(https://polldaddy.com/images/ratings/info.png) no-repeat 3px 2px;width:16px;height:16px;cursor:pointer; null " onclick="javascript:PDRTJS_8453675.togglePopup();return false;"><span style="display:none;">i</span></div><div class="pd_popup_holder" id="pd_popup_holder_8453675">&nbsp;</div></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "engine/swarm/admin_guide.md",
										"title": "Administer and maintain a swarm of Docker Engines",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/engine/swarm/admin_guide.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav">
      



<li><a data-target="#item1" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Get Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item1" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/installation/">Install Docker</a></li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker EE<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/installation/windows/docker-ee/">Windows Server</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ee/ubuntu/">Ubuntu</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ee/rhel/">RHEL</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ee/centos/">CentOS</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ee/oracle/">Oracle Linux</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ee/suse/">SLES</a></li>

</ul>
</li>



<li><a data-target="#item3" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker CE<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item3" aria-expanded="false">



<li><a href="https://docs.docker.com/docker-for-mac/install/">Mac</a></li>



<li><a href="https://docs.docker.com/docker-for-windows/install/">Windows</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/">Ubuntu</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/debian/">Debian</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/centos/">CentOS</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/fedora/">Fedora</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/binaries/">Binaries</a></li>

</ul>
</li>



<li><a data-target="#item4" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Platforms supporting Docker EE and Docker CE<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item4" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/installation/linux/centos/">CentOS</a></li>



<li><a href="https://docs.docker.com/engine/installation/linux/ubuntu/">Ubuntu</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/engine/installation/linux/linux-postinstall/">Optional Linux post-installation steps</a></li>



<li><a data-target="#item6" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker Edge<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item6" aria-expanded="false">



<li><a href="https://docs.docker.com/edge/">Overview</a></li>



<li><a href="https://docs.docker.com/edge/engine/reference/commandline/docker/">Docker Edge CLI reference</a></li>

</ul>
</li>



<li><a data-target="#item7" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker for AWS<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item7" aria-expanded="false">



<li><a href="https://docs.docker.com/docker-for-aws/why/">Why Docker for AWS?</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/">Setup &amp; prerequisites</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/iam-permissions/">IAM permissions</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/scaling/">Scaling</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/upgrade/">Upgrading</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/deploy/">Deploy your app</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/persistent-data-volumes/">Persistent data volumes</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/load-balancer/">Load balancer</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/faqs/">FAQs</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/opensource/">Open source licensing</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/release-notes/">Release notes</a></li>



<li><a href="https://docs.docker.com/docker-for-aws/archive/">Template archive</a></li>

</ul>
</li>



<li><a data-target="#item8" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker for Azure<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item8" aria-expanded="false">



<li><a href="https://docs.docker.com/docker-for-azure/why/">Why Docker for Azure?</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/">Setup &amp; prerequisites</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/upgrade/">Upgrading</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/deploy/">Deploy your app</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/persistent-data-volumes/">Persistent data volumes</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/faqs/">FAQs</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/opensource/">Open source licensing</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/release-notes/">Release notes</a></li>



<li><a href="https://docs.docker.com/docker-for-azure/archive/">Template archive</a></li>

</ul>
</li>



<li><a data-target="#item9" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Docker Toolbox (legacy)<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item9" aria-expanded="false">



<li><a href="https://docs.docker.com/toolbox/overview/">Toolbox overview</a></li>



<li><a href="https://docs.docker.com/toolbox/toolbox_install_mac/">Install Toolbox on Mac</a></li>



<li><a href="https://docs.docker.com/toolbox/toolbox_install_windows/">Install Toolbox on Windows</a></li>



<li><a data-target="#item4" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Kitematic<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item4" aria-expanded="false">



<li><a href="https://docs.docker.com/kitematic/userguide/">Kitematic user guide: intro &amp; overview</a></li>



<li><a href="https://docs.docker.com/kitematic/nginx-web-server/">Set up an Nginx web server</a></li>



<li><a href="https://docs.docker.com/kitematic/minecraft-server/">Set up a Minecraft Server</a></li>



<li><a href="https://docs.docker.com/kitematic/rethinkdb-dev-database/">Creating a local RethinkDB database for development</a></li>



<li><a href="https://docs.docker.com/kitematic/faq/">Frequently asked questions</a></li>



<li><a href="https://docs.docker.com/kitematic/known-issues/">Known issues</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/toolbox/faqs/troubleshoot/">Troubleshooting</a></li>

</ul>
</li>



<li><a data-target="#item10" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Compatibility between Docker versions<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item10" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/migration/">Migrate to Docker 1.10</a></li>



<li><a href="https://docs.docker.com/engine/breaking_changes/">Breaking changes</a></li>



<li><a href="https://docs.docker.com/engine/deprecated/">Deprecated Docker features</a></li>



<li><a href="https://docs.docker.com/engine/faq/">FAQ</a></li>

</ul>
</li>



<li><a data-target="#item11" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Release notes<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item11" aria-expanded="false">



<li><a href="https://docs.docker.com/enterprise/release-notes/">Docker EE</a></li>



<li><a href="https://docs.docker.com/release-notes/docker-ce/">Docker CE</a></li>

</ul>
</li>

</ul>
</li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Get started<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a data-target="#item1" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Get started with Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item1" aria-expanded="false">



<li><a href="https://docs.docker.com/get-started/">Part 1: Orientation</a></li>



<li><a href="https://docs.docker.com/get-started/part2/">Part 2: Containers</a></li>



<li><a href="https://docs.docker.com/get-started/part3/">Part 3: Services</a></li>



<li><a href="https://docs.docker.com/get-started/part4/">Part 4: Swarms</a></li>



<li><a href="https://docs.docker.com/get-started/part5/">Part 5: Stacks</a></li>



<li><a href="https://docs.docker.com/get-started/part6/">Part 6: Deploy your app</a></li>

</ul>
</li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Learn by example<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/tutorials/networkingcontainers/">Network containers</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/engine/docker-overview/">Docker overview</a></li>

</ul>
</li>



<li><a data-target="#item3" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Develop with Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item3" aria-expanded="false">



<li><a data-target="#item1" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Develop your apps on Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item1" aria-expanded="false">



<li><a href="https://docs.docker.com/develop/">App development overview</a></li>



<li><a href="https://docs.docker.com/develop/dev-best-practices/">App development best practices</a></li>



<li><a data-target="#item3" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Work with images<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item3" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/">Best practices for writing Dockerfiles</a></li>



<li><a href="https://docs.docker.com/engine/userguide/eng-image/baseimages/">Create a base image</a></li>



<li><a href="https://docs.docker.com/engine/userguide/eng-image/multistage-build/">Use multi-stage builds</a></li>



<li><a href="https://docs.docker.com/engine/reference/builder/">Dockerfile reference</a></li>



<li><a href="https://docs.docker.com/engine/userguide/eng-image/image_management/">Image management</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/samples/">Docker app examples</a></li>

</ul>
</li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Develop using the Docker Engine SDKs and API<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a href="https://docs.docker.com/develop/sdk/">Overview</a></li>



<li><a href="https://docs.docker.com/develop/sdk/examples/">SDK and API examples</a></li>

</ul>
</li>

</ul>
</li>



<li><a data-target="#item4" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Configure networking<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item4" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/userguide/networking/">Docker container networking</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/work-with-networks/">Work with network commands</a></li>



<li><a href="https://docs.docker.com/engine/swarm/networking/">Manage swarm service networks</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/overlay-standalone-swarm/">Multi-host networking with standalone swarms</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/get-started-macvlan/">Get started with macvlan network driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/overlay-security-model/">Swarm mode overlay network security model</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/configure-dns/">Configure container DNS in user-defined networks</a></li>



<li><a data-target="#item8" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Default bridge network<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item8" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/dockerlinks/">Legacy container links</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/binding/">Bind container ports to the host</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/build-bridges/">Build your own bridge</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/">Configure container DNS</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/custom-docker0/">Customize the docker0 bridge</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/container-communication/">Understand container communication</a></li>



<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/ipv6/">IPv6 with Docker</a></li>

</ul>
</li>

</ul>
</li>



<li><a data-target="#item5" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Manage application data<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item5" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/admin/volumes/">Storage overview</a></li>



<li><a href="https://docs.docker.com/engine/admin/volumes/volumes/">Volumes</a></li>



<li><a href="https://docs.docker.com/engine/admin/volumes/bind-mounts/">Bind mounts</a></li>



<li><a href="https://docs.docker.com/engine/admin/volumes/tmpfs/">tmpfs mounts</a></li>



<li><a href="https://docs.docker.com/engine/admin/troubleshooting_volume_errors/">Troubleshoot volume problems</a></li>



<li><a data-target="#item6" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Store data within containers<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item6" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/">Storage driver overview</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/">About images, containers, and storage drivers</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/selectadriver/">Select a storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/aufs-driver/">Use the AUFS storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/btrfs-driver/">Use the Btrfs storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/device-mapper-driver/">Use the Device mapper storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/overlayfs-driver/">Use the OverlayFS storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/zfs-driver/">Use the ZFS storage driver</a></li>



<li><a href="https://docs.docker.com/engine/userguide/storagedriver/vfs-driver/">Use the VFS storage driver</a></li>

</ul>
</li>

</ul>
</li>



<li><a data-target="#item6" data-toggle="collapse" data-parent="#stacked-menu" aria-expanded="true">Run your app in production<span class="caret arrow"></span></a>
<ul class="nav collapse in" id="#item6" aria-expanded="true">



<li><a data-target="#item1" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">The basics<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item1" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/userguide/">Overview</a></li>



<li><a href="https://docs.docker.com/engine/admin/">Configuring and running Docker</a></li>



<li><a href="https://docs.docker.com/engine/admin/prometheus/">Collect Docker metrics with Prometheus</a></li>



<li><a href="https://docs.docker.com/engine/admin/start-containers-automatically/">Start containers automatically</a></li>



<li><a href="https://docs.docker.com/engine/admin/resource_constraints/">Limit a container's resources</a></li>



<li><a href="https://docs.docker.com/engine/userguide/labels-custom-metadata/">Apply custom metadata</a></li>



<li><a href="https://docs.docker.com/engine/admin/pruning/">Prune unused Docker objects</a></li>



<li><a href="https://docs.docker.com/engine/admin/live-restore/">Keep containers alive during daemon downtime</a></li>



<li><a href="https://docs.docker.com/engine/admin/systemd/">Control and configure Docker with systemd</a></li>



<li><a href="https://docs.docker.com/engine/admin/formatting/">Format command and log output</a></li>



<li><a href="https://docs.docker.com/registry/recipes/mirror/">Run a local registry mirror</a></li>

</ul>
</li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Logging<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/admin/logging/view_container_logs/">View a container's logs</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/overview/">Configuring logging drivers</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/plugins/">Use a logging driver plugin</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/log_tags/">Log tags for logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/logentries/">Logentries logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/json-file/">JSON File logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/gelf/">Graylog Extended Format (GELF) logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/syslog/">Syslog logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/awslogs/">Amazon CloudWatch logs logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/etwlogs/">ETW logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/fluentd/">Fluentd logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/gcplogs/">Google Cloud logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/journald/">Journald logging driver</a></li>



<li><a href="https://docs.docker.com/engine/admin/logging/splunk/">Splunk logging driver</a></li>

</ul>
</li>



<li><a data-target="#item3" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Security<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item3" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/security/security/">Docker security</a></li>



<li><a href="https://docs.docker.com/engine/security/non-events/">Docker security non-events</a></li>



<li><a href="https://docs.docker.com/engine/security/https/">Protect the Docker daemon socket</a></li>



<li><a href="https://docs.docker.com/engine/security/certificates/">Using certificates for repository client verification</a></li>



<li><a data-target="#item5" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Use trusted images<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item5" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/security/trust/content_trust/">Content trust in Docker</a></li>



<li><a href="https://docs.docker.com/engine/security/trust/trust_automation/">Automation with content trust</a></li>



<li><a href="https://docs.docker.com/engine/security/trust/trust_delegation/">Delegations for content trust</a></li>



<li><a href="https://docs.docker.com/engine/security/trust/deploying_notary/">Deploying Notary</a></li>



<li><a href="https://docs.docker.com/engine/security/trust/trust_key_mng/">Manage keys for content trust</a></li>



<li><a href="https://docs.docker.com/engine/security/trust/trust_sandbox/">Play in a content trust sandbox</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/engine/security/antivirus/">Antivirus software and Docker</a></li>



<li><a href="https://docs.docker.com/engine/security/apparmor/">AppArmor security profiles for Docker</a></li>



<li><a href="https://docs.docker.com/engine/security/seccomp/">Seccomp security profiles for Docker</a></li>



<li><a href="https://docs.docker.com/engine/security/userns-remap/">Isolate containers with a user namespace</a></li>

</ul>
</li>



<li><a data-target="#item4" data-toggle="collapse" data-parent="#stacked-menu" aria-expanded="true">Scale your app<span class="caret arrow"></span></a>
<ul class="nav collapse in" id="#item4" aria-expanded="true">



<li><a href="https://docs.docker.com/engine/swarm/">Swarm mode overview</a></li>



<li><a href="https://docs.docker.com/engine/swarm/key-concepts/">Swarm mode key concepts</a></li>



<li><a data-target="#item3" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Get started with swarm mode<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item3" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/">Set up for the tutorial</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/">Create a swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/add-nodes/">Add nodes to the swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/deploy-service/">Deploy a service</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/inspect-service/">Inspect the service</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/scale-service/">Scale the service</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/delete-service/">Delete the service</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/">Apply rolling updates</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-tutorial/drain-node/">Drain a node</a></li>



<li><a href="https://docs.docker.com/engine/swarm/ingress/">Use swarm mode routing mesh</a></li>

</ul>
</li>



<li><a data-target="#item4" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">How swarm mode works<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item4" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/nodes/">How nodes work</a></li>



<li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/">How services work</a></li>



<li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/pki/">Manage swarm security with PKI</a></li>



<li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/swarm-task-states/">Swarm task states</a></li>

</ul>
</li>



<li><a href="https://docs.docker.com/engine/swarm/swarm-mode/">Run Docker in swarm mode</a></li>



<li><a href="https://docs.docker.com/engine/swarm/join-nodes/">Join nodes to a swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/manage-nodes/">Manage nodes in a swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/services/">Deploy services to a swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/configs/">Store service configuration data</a></li>



<li><a href="https://docs.docker.com/engine/swarm/secrets/">Manage sensitive data with Docker secrets</a></li>



<li><a href="https://docs.docker.com/engine/swarm/swarm_manager_locking/">Lock your swarm</a></li>



<li><a href="https://docs.docker.com/engine/swarm/networking/">Manage swarm service networks</a></li>



<li><a href="https://docs.docker.com/engine/swarm/admin_guide/" class="active currentPage">Swarm administration guide</a></li>



<li><a href="https://docs.docker.com/engine/swarm/raft/">Raft consensus in swarm mode</a></li>

</ul>
</li>



<li><a data-target="#item5" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Work with external tools<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item5" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/admin/dsc/">PowerShell DSC usage</a></li>



<li><a href="https://docs.docker.com/engine/admin/ansible/">Using Ansible</a></li>



<li><a href="https://docs.docker.com/engine/admin/chef/">Using Chef</a></li>



<li><a href="https://docs.docker.com/engine/admin/puppet/">Using Puppet</a></li>



<li><a href="https://docs.docker.com/engine/admin/multi-service_container/">Run multiple services in a container</a></li>



<li><a href="https://docs.docker.com/engine/admin/runmetrics/">Runtime metrics</a></li>



<li><a href="https://docs.docker.com/engine/admin/ambassador_pattern_linking/">Link via an ambassador container</a></li>

</ul>
</li>



<li><a data-target="#item6" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Extend Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item6" aria-expanded="false">



<li><a href="https://docs.docker.com/engine/extend/">Managed plugin system</a></li>



<li><a href="https://docs.docker.com/engine/extend/plugins_authorization/">Access authorization plugin</a></li>



<li><a href="https://docs.docker.com/engine/extend/legacy_plugins/">Extending Docker with plugins</a></li>



<li><a href="https://docs.docker.com/engine/extend/plugins_network/">Docker network driver plugins</a></li>



<li><a href="https://docs.docker.com/engine/extend/plugins_volume/">Volume plugins</a></li>



<li><a href="https://docs.docker.com/engine/extend/config/">Plugin configuration</a></li>



<li><a href="https://docs.docker.com/engine/extend/plugin_api/">Plugins API</a></li>

</ul>
</li>

</ul>
</li>



<li><a data-target="#item7" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Standards and compliance<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item7" aria-expanded="false">



<li><a href="https://docs.docker.com/compliance/">Docker standards and compliance</a></li>



<li><a href="https://docs.docker.com/compliance/nist/800_53/">NIST 800-53</a></li>



<li><a href="https://docs.docker.com/compliance/fedramp/">FedRAMP</a></li>



<li><a href="https://docs.docker.com/compliance/cis/">CIS</a></li>

</ul>
</li>



<li><a data-target="#item8" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Open source at Docker<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item8" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/code/">Quickstart contribution</a></li>



<li><a data-target="#item2" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Set up for Docker development<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item2" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/project/who-written-for/">README first</a></li>



<li><a href="https://docs.docker.com/opensource/project/software-required/">Get the required software</a></li>



<li><a href="https://docs.docker.com/opensource/project/software-req-win/">Set up for development on Windows</a></li>



<li><a href="https://docs.docker.com/opensource/project/set-up-git/">Configure Git for contributing</a></li>



<li><a href="https://docs.docker.com/opensource/project/set-up-dev-env/">Work with a development container</a></li>



<li><a href="https://docs.docker.com/opensource/project/test-and-docs/">Run tests and test documentation</a></li>



<li><a data-target="#item7" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Contribution workflow<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item7" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/workflow/make-a-contribution/">Understand how to contribute</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/find-an-issue/">Find and claim an issue</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/work-issue/">Work on your issue</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/create-pr/">Create a pull request (PR)</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/review-pr/">Participate in the PR review</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/advanced-contributing/">Advanced contributing</a></li>



<li><a href="https://docs.docker.com/opensource/workflow/coding-style/">Coding style checklist</a></li>

</ul>
</li>



<li><a data-target="#item8" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Other ways to contribute<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item8" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/ways/meetups/">Organize a Docker meetup</a></li>



<li><a href="https://docs.docker.com/opensource/ways/issues/">Organize our issues</a></li>



<li><a href="https://docs.docker.com/opensource/ways/community/">Support the community</a></li>



<li><a href="https://docs.docker.com/opensource/ways/test/">Testing contributions</a></li>

</ul>
</li>



<li><a data-target="#item9" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Contribute to Kitematic<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item9" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/kitematic/get_started/">Get started</a></li>



<li><a href="https://docs.docker.com/opensource/kitematic/find_issue/">Find an issue</a></li>



<li><a href="https://docs.docker.com/opensource/kitematic/set_up_dev/">Set up for Kitematic development</a></li>



<li><a href="https://docs.docker.com/opensource/kitematic/work_issue/">Develop in Kitematic (work on an issue)</a></li>



<li><a href="https://docs.docker.com/opensource/kitematic/create_pr/">Create a pull request (PR)</a></li>



<li><a href="https://docs.docker.com/opensource/kitematic/next_steps/">Where to learn more</a></li>

</ul>
</li>



<li><a data-target="#item10" data-toggle="collapse" data-parent="#stacked-menu" class="collapsed" aria-expanded="false">Governance<span class="caret arrow"></span></a>
<ul class="nav collapse" id="#item10" aria-expanded="false">



<li><a href="https://docs.docker.com/opensource/governance/dgab-info/">Docker governance advisory board</a></li>



<li><a href="https://docs.docker.com/opensource/governance/board-profiles/">Board member profiles</a></li>



<li><a href="https://docs.docker.com/opensource/governance/conduct-code/">Code of conduct</a></li>

</ul>
</li>

</ul>
</li>



<li><a href="https://docs.docker.com/opensource/FAQ/">FAQ for contributors</a></li>



<li><a href="https://docs.docker.com/opensource/get-help/">Where to chat or get help</a></li>



<li><a href="https://docs.docker.com/opensource/doc-style/">Style guide for Docker documentation</a></li>

</ul>
</li>



<li><a href=""></a></li>


    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: visible;"><a href="https://github.com/docker/docker.github.io/edit/master/engine/swarm/admin_guide.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page</a></li>
										<li><a href="https://github.com/docker/docker.github.io/issues/new?assignee=mistyhacks&amp;body=File:%20[engine/swarm/admin_guide.md](https://docs.docker.com/engine/swarm/admin_guide/),%20CC%20@mistyhacks" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request docs changes</a></li>
										<li><a href="https://www.docker.com/docker-support-services"><i class="fa fa-question" aria-hidden="true"></i> Get support</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input id="switch-style" type="checkbox">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">On this page:</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#operate-manager-nodes-in-a-swarm" class="nomunge active">Operate manager nodes in a swarm</a>
    <ul>
      <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#maintain-the-quorum-of-managers" class="nomunge">Maintain the quorum of managers</a></li>
    </ul>
  </li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#configure-the-manager-to-advertise-on-a-static-ip-address" class="nomunge">Configure the manager to advertise on a static IP address</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#add-manager-nodes-for-fault-tolerance" class="nomunge">Add manager nodes for fault tolerance</a>
    <ul>
      <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#distribute-manager-nodes" class="nomunge">Distribute manager nodes</a></li>
      <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#run-manager-only-nodes" class="nomunge">Run manager-only nodes</a></li>
    </ul>
  </li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#add-worker-nodes-for-load-balancing" class="nomunge">Add worker nodes for load balancing</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#monitor-swarm-health" class="nomunge">Monitor swarm health</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#troubleshoot-a-manager-node" class="nomunge">Troubleshoot a manager node</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#forcibly-remove-a-node" class="nomunge">Forcibly remove a node</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#back-up-the-swarm" class="nomunge">Back up the swarm</a></li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#recover-from-disaster" class="nomunge">Recover from disaster</a>
    <ul>
      <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#restore-from-a-backup" class="nomunge">Restore from a backup</a></li>
      <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#recover-from-losing-the-quorum" class="nomunge">Recover from losing the quorum</a></li>
    </ul>
  </li>
  <li><a href="https://docs.docker.com/engine/swarm/admin_guide/#force-the-swarm-to-rebalance" class="nomunge">Force the swarm to rebalance</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-2">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-2">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://cloud.docker.com/">Docker Cloud</a></li>
                        <li><a href="https://store.docker.com/">Docker Store</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-mac">Docker for Mac</a></li>
                        <li class="break"><a href="https://www.docker.com/docker-windows">Docker for Windows (PC)</a></li>
                        <li><a href="https://www.docker.com/docker-aws" class="web30">Docker for AWS</a></li>
                        <li class="break"><a href="https://www.docker.com/docker-microsoft-azure">Docker for Azure</a></li>
                        <li><a href="https://www.docker.com/docker-windows-server">Docker for Windows Server</a></li>
                        <li><a href="https://www.docker.com/docker-centos">Docker for CentOS distribution</a></li>
                        <li><a href="https://www.docker.com/docker-debian">Docker for Debian</a></li>
                        <li><a href="https://www.docker.com/docker-fedora">Docker for Fedora®</a></li>
                        <li><a href="https://www.docker.com/docker-oracle-linux">Docker for Oracle Enterprise Linux</a></li>
                        <li><a href="https://www.docker.com/docker-rhel">Docker for RHEL</a></li>
                        <li><a href="https://www.docker.com/docker-sles">Docker for SLES</a></li>
                        <li><a href="https://www.docker.com//docker-ubuntu">Docker for Ubuntu</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-2">
                    <ul class="footer_links">
                        <li><a href="https://docs.docker.com/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com/" target="_blank">Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://www.docker.com/docker-support-services">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-2">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright © 2017 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-google-plus"><a href="https://plus.google.com/u/0/communities/108146856671494713993">Google</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker/docker">Github</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/github.css">
	
	<!-- <script src="/js/anchorlinks.js"></script> -->
	<script defer="defer" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/menu.js"></script>
	<script src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/jquery.js"></script>
	<script src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/bootstrap.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/archive.js"></script>
	<script src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/stickyfill.js"></script>
	<script defer="defer" src="Administer%20and%20maintain%20a%20swarm%20of%20Docker%20Engines%20|%20Docker%20Documentation_files/docs.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
			$.getJSON( "/metadata.txt", function( data ) {
				metadata = data;
				hookupTOCEvents();
				$.getJSON( "/glossary.txt", function( data ) {
					glossary = data;
					renderTagsPage();
				});
			});
	});
	</script>



</body></html>