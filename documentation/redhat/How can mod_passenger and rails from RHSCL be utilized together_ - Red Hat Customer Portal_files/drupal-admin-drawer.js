define(["jquery","lodash","handlebars.runtime","chrome_lib","drupal-admin-drawer-templates","session"],function(n,e,t,i,r,s){function a(n){return n.icon=d[n.type],n}function o(t){return t=e.map(t,a),function(){if(s.isInternal()){var e=r.drupal_admin_drawer.main({data:t});n(e).prependTo("#cp-content"),n(".admin-drawer").affix({offset:{top:n("#cp-content").offset().top}}).tabDrawer()}}}var d={multi:"icon-pencil"};return n.fn.tabDrawer=function(e,t){function i(){o(g.length?g:n(h.get(0))),d.addClass(u).transitionEnd(function(){d.trigger(p)})}function r(){g.removeClass(f).blur(),d.removeClass(u).transitionEnd(function(){d.trigger(v)})}function a(){d.hasClass(u)?r():i()}function o(e){l.removeClass(c),n(e.data("target")).addClass(c),g.length&&g.removeClass(f),e.addClass(f),g=e}var d=this,u="open",f="active",c="in",l=d.find(".drawer"),h=d.find(".toggler"),g=d.find(".toggler."+f).first(),p="tabDrawer.opened",v="tabDrawer.closed";if(s.isInternal()&&n("body").addClass("internal-user"),n("body").addClass("admin-drawer-loaded"),"open"===e){if(void 0===t&&i(),"number"==typeof t){if(!d.hasClass(u))return n(h.get(t)).click(),this;d.hasClass(u)&&!g.is(n(h.get(t)))&&o(n(h.get(t)))}return this}return"close"===e?(r(),this):"toggle"===e?(a(),this):(h.on("click",function(e){if(e.preventDefault(),g.length&&d.hasClass(u))return g.is(n(this))?void r():void o(n(this));g=n(this),a()}),this.on("keyup",function(n){27===n.keyCode&&d.hasClass(u)&&r()}),this)},n.fn.transitionEnd=function(e){var t="transitionend webkitTransitionEnd mozTransitionEnd oTransitionEnd MSTransitionEnd";return this.each(function(){n(this).bind(t,function(){return n(this).unbind(t),e.call(this)})})},{init:function(n){t.registerHelper("slug",function(n){return n&&"string"==typeof n?n.replace(/^\s+|\s+$/g,"").toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"):n}),t.registerHelper("ifCond",function(n,e,t,i){switch(e){case"==":return n==t?i.fn(this):i.inverse(this);case"===":return n===t?i.fn(this):i.inverse(this);case"<":return n<t?i.fn(this):i.inverse(this);case"<=":return n<=t?i.fn(this):i.inverse(this);case">":return n>t?i.fn(this):i.inverse(this);case">=":return n>=t?i.fn(this):i.inverse(this);case"&&":return n&&t?i.fn(this):i.inverse(this);case"||":return n||t?i.fn(this):i.inverse(this);default:return i.inverse(this)}}),s.onInit(o(n))}}});
//# sourceMappingURL=drupal-admin-drawer.js.map