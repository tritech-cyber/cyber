<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	
		<!-- Global site tag (gtag.js) - Google Analytics -->
<script type="text/javascript" async="" src="Github%20pages%20with%20AWS%20route%2053_files/analytics.js"></script><script async="" src="Github%20pages%20with%20AWS%20route%2053_files/js.js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114317464-1');
</script>

	
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" type="image/png" href="http://samyounger.com/assets/images/favicon.ico">

	<title>
		
			Github pages with AWS route 53
		
	</title>

		<!-- Styles -->
		<link rel="stylesheet" href="Github%20pages%20with%20AWS%20route%2053_files/devicon.css">
		<link href="Github%20pages%20with%20AWS%20route%2053_files/font-awesome.css" rel="stylesheet">
		<link href="Github%20pages%20with%20AWS%20route%2053_files/css.css" rel="stylesheet">
		<link rel="stylesheet" href="Github%20pages%20with%20AWS%20route%2053_files/main.css">
		<link rel="canonical" href="http://samyounger.com/github/git/github-pages/aws/route53/2017/02/15/github-pages-with-aws.html">

		<!-- Javascript -->
		<script src="Github%20pages%20with%20AWS%20route%2053_files/jquery-3.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
		<script src="Github%20pages%20with%20AWS%20route%2053_files/jquery-ui.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
		<script type="text/javascript" src="Github%20pages%20with%20AWS%20route%2053_files/lunr.js"></script>
		<script type="text/javascript" src="Github%20pages%20with%20AWS%20route%2053_files/search.js"></script>
		<script type="text/javascript" src="Github%20pages%20with%20AWS%20route%2053_files/menu.js"></script>
		<script type="text/javascript" src="Github%20pages%20with%20AWS%20route%2053_files/main.js"></script>

	<script src="Github%20pages%20with%20AWS%20route%2053_files/embed.js" data-timestamp="1527855489900"></script><link rel="prefetch" as="style" href="Github%20pages%20with%20AWS%20route%2053_files/a_data/lounge.css"><link rel="prefetch" as="script" href="Github%20pages%20with%20AWS%20route%2053_files/a_data/common.js"><link rel="prefetch" as="script" href="Github%20pages%20with%20AWS%20route%2053_files/a_data/lounge.js"><link rel="prefetch" as="script" href="Github%20pages%20with%20AWS%20route%2053_files/a_data/config.js"><script src="Github%20pages%20with%20AWS%20route%2053_files/alfalfa.js" async="" charset="UTF-8"></script></head>


<body>
	<nav class="pageTop" style="background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;">
  
  <ul class="post-nav">
    <li>
      <a href="http://samyounger.com/rails/ruby/2017/02/15/rails-router.html">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
      </a>
    </li>
    <li>
      <a href="http://samyounger.com/blog" class="navbar-brand">All Posts</a>
    </li>
    <li>
      <a href="http://samyounger.com/ruby/object-oriented-programming/oop/2017/02/20/ruby-object-oriented-programming.html">
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
    </li>
  </ul>
  

  

</nav>

	<main>
		<div class="navSpacer"></div>
<section id="blog-post">
  <div class="blog-post-head">
    <h2 class="blog_title">Github pages with AWS route 53</h2>
      <h3 class="blog_date">15 February 2017</h3>
        <ul class="tags">
          
          <li>github</li>
          
          <li>git</li>
          
          <li>github-pages</li>
          
          <li>aws</li>
          
          <li>route53</li>
          
        </ul>
  </div>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DESCRIPTION: This post will describe how to set up your own personal jekyll website with github pages and route it to an amazon AWS Route53 DNS provider for a cost-effective solution to launching your website live.
</code></pre></div></div>

<p><a class="main-link" href="https://github.com/">GitHub</a>
<a class="main-link" href="https://aws.amazon.com/console/">AWS</a>
<a class="main-link" href="https://jekyllrb.com/docs/github-pages/">Jekyll</a></p>

<p>Launching a website can potentially be a costly exercise if going 
through one of the Content Management Service providers, or even through
 SquareSpace or WordPress. One of the most cost-effective solutions I 
found was to host the code on GitHub (which you should be doing anyway 
for version control), and to host the domain with Amazon Web Services. 
The cost of the domain varies depending on what you go for, but mine 
costs c. $10 per annum. On top of that Amazon charges for traffic to the
 site. With me using my own site this ranges from $3 - $6 per month.</p>

<h2 id="step-1-set-up-your-github-repo">Step 1: Set up your GitHub repo</h2>

<p>GitHub has a special service it calls <a href="https://pages.github.com/">Pages</a>.
 This is when they allow you to have one free personal website. I find 
it fantastically easy to use where any code pushes to the repository are
 instantly live, and while using usual workflow of <code class="highlighter-rouge">git add</code>, <code class="highlighter-rouge">git commit</code>, <code class="highlighter-rouge">git push</code>.</p>

<p>The first step to having access to your GitHub pages account is to set up a new repository like so: <code class="highlighter-rouge">username.github.io</code>. Of course change <code class="highlighter-rouge">username</code> with your github username.</p>

<p>Open the repository, and click the settings tab. Scroll down the 
pages and ensure the GitHub Pages Source is on masterbranch. Also below 
this change custom domain to your domainname, for example mine is <code class="highlighter-rouge"><a class="vglnk" href="http://samyounger.com/" rel="nofollow"><span>samyounger</span><span>.</span><span>com</span></a></code> - note do not put in the http:// reference, or www (which is a subdomain reference).</p>

<p>You are now done with github and can move onto AWS.</p>

<h2 id="step-2-purchase-your-domain-name">Step 2: Purchase your domain name</h2>

<p>Setting up an AWS account is fairly self explanatory, just make sure you set it up on the <code class="highlighter-rouge">basic</code> user account which is free, and not as <code class="highlighter-rouge">developer</code> which is a minimum of $25 per month. It effectively means you do not get any direct support if anything goes wrong.</p>

<p>In the AWS console, select <code class="highlighter-rouge">Route 53</code>. You will see in the middle of the page <code class="highlighter-rouge">Register Domain</code>. Here type in the domain name you want, choose a suitable ending <code class="highlighter-rouge">.com</code> <code class="highlighter-rouge">.co.uk</code> <code class="highlighter-rouge">.org</code> etc. and buy it.</p>

<h2 id="step-3-set-up-the-hosted-zone">Step 3: Set up the Hosted Zone</h2>

<p>In the menu bar in the left select <code class="highlighter-rouge">Hosted zones</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NOTE: If AWS did not automatically create a hosted zone upon buying the domain name, create one. So for example if you bought the domain name <a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a>, you create the hosted zone name <a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a>. Once created open it up.

Once you have created the hosted zone, open it up, click the Type NS, and copy the values on the right (4x url's to awsdns addresses). Then go to the registered domains from the left menu, and in the Name Servers section on the right, click `Add or edit name servers`, delete any contents in there, and add the 4x lines you just copied one by one. This gives your domain name the address to the hosted zone.
</code></pre></div></div>

<p>If AWS did create a hosted zone for the domain name, then click the link to open the hosted zone. Here select <code class="highlighter-rouge">Create Record Set</code>. Leave the name box empty, Type is <code class="highlighter-rouge">A</code>, and in the value box put:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.30.252.153
192.30.252.154
</code></pre></div></div>

<p>Then <code class="highlighter-rouge">Save Record Set</code>.</p>

<p>Next select <code class="highlighter-rouge">Create Record Set</code> again, in the name box type in <code class="highlighter-rouge">www</code>, type <code class="highlighter-rouge">A</code>, alias should be <code class="highlighter-rouge">Yes</code>, and in the Alias Target type in the main domain name e.g. <code class="highlighter-rouge"><a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a></code>. Then <code class="highlighter-rouge">Save Record Set</code>.</p>

<h3 id="second-domain-name">Second domain name</h3>

<p>If you bought a second domain name, for example <code class="highlighter-rouge">username.co.uk</code> as well as <code class="highlighter-rouge"><a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a></code>, then you will likely want to route the second address to the first address.</p>

<p>To do this in AWS, you will need to create an <code class="highlighter-rouge">S3 bucket</code>. In the AWS Services menu dropdown, select S3, then select <code class="highlighter-rouge">Create Bucket</code> and name the bucket identially to your second domain name, in my case <code class="highlighter-rouge">username.co.uk</code>. Once this is done, select <code class="highlighter-rouge">Properties &gt; Static website hosting</code>, and click <code class="highlighter-rouge">Redirect all requests</code>, and in the box for target bucket or domain put your root address <code class="highlighter-rouge"><a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a></code>. If you want to create a root for a <code class="highlighter-rouge">www</code> subdomain, then set up a second bucket for <code class="highlighter-rouge"><a class="vglnk" href="http://www.username.com/" rel="nofollow"><span>www</span><span>.</span><span>username</span><span>.</span><span>com</span></a></code> and put the same redirect in.</p>

<p>Once this is done, you will need to go back to the AWS <code class="highlighter-rouge">Route 53</code> service, set up a second <code class="highlighter-rouge">Hosted Zone</code> for <code class="highlighter-rouge">username.co.uk</code>. Ensure the domain has the same <code class="highlighter-rouge">Name Servers</code> as the hosted zone. Here set up the two <code class="highlighter-rouge">A</code> Record Sets, for <code class="highlighter-rouge">username.co.uk</code> and <code class="highlighter-rouge"><a class="vglnk" href="http://www.username.com/" rel="nofollow"><span>www</span><span>.</span><span>username</span><span>.</span><span>com</span></a></code>, the alias target should be the <code class="highlighter-rouge">S3 bucket</code>.</p>

<h2 id="summary">Summary</h2>

<p>You have now connected the GitHub username repository to AWS Route 
53, and your website will be live assuming you have added content to 
your github repository.</p>

<h2 id="follow-up">Follow up</h2>

<p>Learn about Jekyll which GitHub Pages runs off.</p>

<p><a class="main-link" href="https://jekyllrb.com/docs/github-pages/">Jekyll Guidance Notes</a></p>

<p>Finally in the project folder, create a <code class="highlighter-rouge">CNAME</code> file. In the file simply type the name of your domain, for example <code class="highlighter-rouge"><a class="vglnk" href="http://username.com/" rel="nofollow"><span>username</span><span>.</span><span>com</span></a></code>. No HTTP:// reference.</p>


  

  <div id="disqus_thread"><iframe id="dsq-app3452" name="dsq-app3452" allowtransparency="true" scrolling="no" tabindex="0" title="Disqus" style="width: 1px !important; min-width: 100% !important; border: medium none !important; overflow: hidden !important; height: 387px !important;" src="Github%20pages%20with%20AWS%20route%2053_files/a.html" horizontalscrolling="no" verticalscrolling="no" width="100%" frameborder="0"></iframe></div>
  <script>

  /*
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
  */
  // var disqus_config = function () {
  //   this.page.url = http://samyounger.com;  // Replace PAGE_URL with your page's canonical URL variable
  //   this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  // };

  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://samyounger.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="<a class="vglnk" href="https://disqus.com/?ref_noscript" rel="nofollow"><span>https</span><span>://</span><span>disqus</span><span>.</span><span>com</span><span>/?</span><span>ref</span><span>_</span><span>noscript</span></a>">comments powered by Disqus.</a></noscript>



</section>

	</main>
	<!-- Footer -->
<footer>
  <p>© Sam Younger 2018</p>
  <script id="dsq-count-scr" src="Github%20pages%20with%20AWS%20route%2053_files/count.js" async=""></script>
</footer>




<iframe style="display: none;"></iframe></body></html>